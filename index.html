<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="./icons/icon.png" type="image/x-icon">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="./css/style.css">
        <script type="text/javascript"
            src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script>
        <title>Document</title>
    </head>

    <body style="height: 100vh;background-color: aquamarine;">
        <div style="height: 50vh;" class="container  mt-5">
            <div class="row">
                <div class="col mb-4 scan-aria">
                    <div class="ratio ratio-1x1 border border-warning" style="width: 18rem;">

                        <video width="200px" id="preview"></video>

                    </div>
                </div>

                <div class="col">
                    <ul id="makeUl" class="list-group">
                        <!-- <li class="list-group-item">
                            <h5 style="display: inline;">example 1</h5>
                            <img width="20px" class="text-success float-end" src="./icons/check2-circle (1).svg">
                        </li> -->

                    </ul>
                </div>
            </div>
        </div>

        <a href="./router/createqr.html">create QR</a>

        <script type="text/javascript">
            let scanner = new Instascan.Scanner({ video: document.getElementById('preview') });
            let makeUl = document.querySelector('#makeUl');
            scanner.addListener('scan', (content) => {
                return makeUl.innerHTML += `
                                    <li class="list-group-item">
                                        <h5 style="display: inline;">${content}</h5>
                                        <img width="20px" class="text-success float-end" src="./icons/check2-circle (1).svg">
                                    </li>
                                `
                console.log(content);
            })

            Instascan.Camera.getCameras()
                .then(function (cameras) {
                    if (cameras.length > 0) {
                        scanner.start(cameras[0]);
                    } else {
                        console.error('No cameras found.');
                    }
                }).catch(function (e) {
                    console.error(e);
                });
        </script>
    </body>

</html>